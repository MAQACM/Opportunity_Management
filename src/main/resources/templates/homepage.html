<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<style type="text/css">
  
body{
  background-image: url(http://www.joburgchiropractor.co.za/images/background.jpg);
}
</style>
<head>
<meta charset="UTF-8">
<title>Homepage</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body >
  
<div class="container text-center  " style="padding:50px">
  <div class="row  ">
    <div class="col text-center">
      <!-- Button trigger modal -->
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createAccount">
        Create Account.
      </button>
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createOpp" th:href="@{/addaccount}">
        Create Opportunity.
      </button>
    </div>
  </div>
  <hr>
</div>

             <ul class="nav nav-pills " >
               
    <li class="" style="width:50%;"><a class="btn " data-toggle="tab" href="#viewAcc">View Accounts</a></li>
   
    <li class=" " style="width:48%"><a class=" btn " data-toggle="tab" href="#viewOpp">View Opportunities</a></li>

            </ul>
            <div class="tab-content py-3 px-3 px-sm-0 ">
               <div class="tab-pane fade in active" id="viewAcc" role="tabpanel">
                <table class="table">
                 <thead>
                     <tr>
                         <th scope="col">#</th>
                         <th scope="col">Account Name</th>
                         <th scope="col">Account Address</th>
                         <th scope="col">User</th>
                         
                     </tr>
                 </thead>
                <tbody>
                 <tr th:each="accs: ${accounts}">
                  <th scope="row" th:text="${# ids.seq ('')}">1</th>
                  <td th:text="${accs.account_Name}"></td>
                  <td th:text="${accs.account_Address}"></td>
                  <td th:text="${accs.user.userName}"></td>
                  
                 </tr>
                </tbody>
               </table>
                 
               </div>
               <div class="tab-pane fade " id="viewOpp" role="tabpanel" >
                <table class="table">
                 <thead>
                     <tr >
                         <th scope="row" >#</th>
                         <th scope="col">Name</th>
                         <th scope="col">Associated account</th>
                         <th scope="col">Stage</th>
                         <th scope="col">Amount</th>
                     </tr>
                 </thead>
                <tbody>
                  <tr th:each="opps : ${opportunities}">
                        <th scope="row" th:text="${#ids.seq('')}">1</th>
                        <td th:text="${opps.opportunity_Name}"></td>
                        <td th:text="${opps.account.account_Name}"></td>
                        <td th:text="${opps.opportunity_Stage}"></td>
                        <td th:text="${opps.opportunity_amount}"></td>
                        
                 </tr>
                </tbody>
               </table>
                 
               </div>
               
            
             </div>


<!-- Modal -->
<div class="modal fade" id="createAccount"  tabindex="-1" aria-labelledby="#createAccount" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Create Account</h5>
        
      </div>
      <div class="modal-body">
        <form class="row g-3"  th:action="@{/homepage/createAcc}"  method="POST">
  <div class="col-md-8">
    <label for="accName" class="form-label">Name</label>
    <input type="text" class="form-control" id="accName" th:name="account_Name">
  </div>

  <div class="col-md-8">
    <label for="accAddress" class="form-label">Address</label>
    <input type="text" class="form-control" id="accAddress" th:name="account_Address" placeholder="1234 Main St">
  </div>
<br>
  <div class="col-md-8 " style="padding:20px;" >
    <button type="submit" class="btn btn-primary" th:href="@{/homepage/createAcc}">save</button>
  </div>
</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="createOpp"  tabindex="-1" aria-labelledby="#createOpp"  >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Create Opportunity</h5>
        
      </div>
      <div class="modal-body">
        <form class="row g-3" th:action="@{/homepage/createOpp}" method="POST">
  <div class="col-md-8">
    <label for="oppName" class="form-label">Name</label>
    <input type="text" class="form-control" id="accName"th:name="opportunity_Name">
  </div>
  <div class="col-md-8">
    <label for="amount" class="form-label">Amount</label>
    <input type="text" class="form-control" id="amount" th:name="opportunity_amount">
  </div>
  <div class="col-md-8" style="margin-top:20px;">
    <label for="oppStage" class="form-label" style="margin-right:10px;">Stage</label>
    <select id="oppStage" class="form-select" th:name="opportunity_Stage">
      <option selected>Discovery</option>
      <option>Proposal </option>
      <option>shared</option>
      <option>Negotiations</option>
    </select>
  </div>
  <div class="col-md-8" style="margin-top:20px;" >
    <label for="oppAcc" class="form-label" style="margin-right:10px;">Account</label>
    <select  id="oppAcc" class="form-select" th:name="account">
       <option th:each="accounts:${allAccounts}" 
          th:value="${accounts.accounts_Id}" 
          th:text="${accounts.account_Name}">Wireframe</option>
    </select>
  </div>
<br>
  <div class="col-md-8 p-5" style="padding:20px;" >
    <button type="submit" class="btn btn-primary" th:href="@{/homepage/createOpp}">save</button>
  </div>
</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
</body>
</html>